{% extends "layouts/userapp.html" %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/ui/select_div.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/userapp/orders.css') }}">
{% endblock %}

{% block main_body %}
    <div class="container-main-reservations-all">
        <div class="container-title-page">
            <a href="/userapp/reservations">Reservaciones</a>
            <h1>Mis Órdenes</h1>
        </div>
        <div class="container-filters-buttons">
            <div class="container-template-select-div-ui">
                <div class="container-template-select-div-ui__button-view" id="container-template-select-div-ui__button-view">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="#ffffff" d="M12 18.88a1 1 0 0 1-.29.83a1 1 0 0 1-1.41 0l-4-4a1 1 0 0 1-.3-.84V9.75L1.21 3.62a1 1 0 0 1 .17-1.4A1 1 0 0 1 2 2h14a1 1 0 0 1 .62.22a1 1 0 0 1 .17 1.4L12 9.75zM4 4l4 5.06v5.52l2 2V9.05L14 4m-1 12l5 5l5-5Z"/></svg>
                    <span>Todos</span>
                </div>
                <div class="container-template-select-div-ui__container-options">
                    <label for="Todos">
                        <a href="?state=">
                            <span>Todos</span>
                        </a>
                    </label>
                    <label for="Todos">
                        <a href="?state=1">
                            <span>En proceso</span>
                        </a>
                    </label>
                    <label for="Todos">
                        <a href="?state=2">
                            <span>Aceptados</span>
                        </a>
                    </label>
                    <label for="Todos">
                        <a href="?state=3">
                            <span>Concluidos</span>
                        </a>
                    </label>
                    <label for="Todos">
                        <a href="?state=4">
                            <span>Rechazados</span>
                        </a>
                    </label>
                </div>
            </div>
            <a href="">
                <button class="button-refresh-page">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20"><path fill="#ffffff" d="M10 3v2a5 5 0 0 0-3.54 8.54l-1.41 1.41A7 7 0 0 1 10 3m4.95 2.05A7 7 0 0 1 10 17v-2a5 5 0 0 0 3.54-8.54zM10 20l-4-4l4-4zm0-12V0l4 4z"/></svg>
                    Actualizar
                </button>
            </a>
        </div>
        <div class="container-main-block-reservations-all">
            {% if order_table %}
                {% for order in order_table %}
                <div class="container-block-row">
                    <div class="title-block">
                        <h2></h2>
                        <div class="title-block-state-reservation">
                            {% if order.state_order == 1 %}
                                <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path fill="none" stroke="#ffffff" stroke-width="2" d="M1 1h22M10 4.5h4V6c0 1-2 2-2 2s-2-1-2-2zM5 1v5c0 3 5 3.235 5 6s-5 3-5 6v5M19 1v5c0 3-5 3.235-5 6s5 3 5 6v5M1 23h22M8 21c0-2 4-4 4-4s4 2 4 4v2H8z"/></svg>
                                <span>En proceso</span>
                            {% elif order.state_order == 2 %}
                                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24"><path fill="#ffffff" d="M9.836 2.034c.112.038.222.084.329.136l1.283.632a1.25 1.25 0 0 0 1.104 0l1.283-.632a2.75 2.75 0 0 1 3.682 1.253l.073.162l.063.167l.46 1.353c.125.368.414.656.781.781l1.354.46a2.75 2.75 0 0 1 1.581 3.819l-.631 1.283a1.25 1.25 0 0 0 0 1.104l.631 1.283a2.75 2.75 0 0 1-1.581 3.818l-1.354.46a1.25 1.25 0 0 0-.78.781l-.461 1.354a2.75 2.75 0 0 1-3.818 1.581l-1.283-.631a1.25 1.25 0 0 0-1.104 0l-1.283.631a2.75 2.75 0 0 1-3.818-1.581l-.46-1.354a1.25 1.25 0 0 0-.782-.78l-1.353-.461a2.75 2.75 0 0 1-1.582-3.818l.632-1.283a1.25 1.25 0 0 0 0-1.104l-.632-1.283a2.75 2.75 0 0 1 1.582-3.818l1.353-.46a1.25 1.25 0 0 0 .781-.782l.46-1.353a2.75 2.75 0 0 1 3.49-1.718m-2.07 2.2l-.46 1.354a2.75 2.75 0 0 1-1.718 1.718l-1.353.46a1.251 1.251 0 0 0-.719 1.736l.632 1.283a2.75 2.75 0 0 1 0 2.43l-.632 1.282a1.25 1.25 0 0 0 .719 1.736l1.353.46a2.75 2.75 0 0 1 1.718 1.718l.46 1.354a1.248 1.248 0 0 0 1.736.719l1.283-.632a2.75 2.75 0 0 1 2.43 0l1.282.632a1.25 1.25 0 0 0 1.736-.719l.46-1.354a2.75 2.75 0 0 1 1.718-1.718l1.354-.46a1.25 1.25 0 0 0 .719-1.736l-.632-1.283a2.75 2.75 0 0 1 0-2.429l.632-1.283a1.25 1.25 0 0 0-.719-1.736l-1.354-.46a2.75 2.75 0 0 1-1.718-1.718l-.46-1.353l-.029-.076l-.033-.074l-.062-.111a1.25 1.25 0 0 0-1.612-.458l-1.283.632a2.75 2.75 0 0 1-2.429 0l-1.283-.632a1.25 1.25 0 0 0-1.735.719M10.05 14.39l5.42-5.42a.75.75 0 0 1 1.133.977l-.073.084l-6 6a.75.75 0 0 1-1.031.028l-.075-.078l-2.5-3a.75.75 0 0 1 1.075-1.04l.077.08zl5.42-5.42z"/></svg>
                                <span>Aceptado</span>
                            {% elif order.state_order == 3 %}
                                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 16 16"><path fill="#ffffff" d="M1.338 1.961C1.495 1.362 2.041 1 2.615 1c.354 0 .676.133.921.35a1.5 1.5 0 0 1 1.928 0A1.38 1.38 0 0 1 6.385 1c.574 0 1.12.362 1.277.961C7.812 2.533 8 3.455 8 4.5a3.5 3.5 0 0 1-1.595 2.936c-.271.177-.405.405-.405.6v.396q0 .034.004.066c.034.248.157 1.169.272 2.124c.113.937.224 1.959.224 2.378a2 2 0 1 1-4 0c0-.42.111-1.44.224-2.378c.115-.955.238-1.876.272-2.124L3 8.432v-.396c0-.195-.134-.423-.405-.6A3.5 3.5 0 0 1 1 4.5c0-1.045.188-1.967.338-2.539M6 5a.5.5 0 0 1-1 0V2.5a.5.5 0 0 0-1 0V5a.5.5 0 0 1-1 0V2.385A.385.385 0 0 0 2.615 2c-.166 0-.28.099-.31.215A9.2 9.2 0 0 0 2 4.5a2.5 2.5 0 0 0 1.14 2.098c.439.285.86.786.86 1.438v.396q0 .1-.013.2c-.034.246-.156 1.161-.27 2.11c-.116.965-.217 1.914-.217 2.258a1 1 0 1 0 2 0c0-.344-.1-1.293-.217-2.259c-.114-.948-.236-1.863-.27-2.11A2 2 0 0 1 5 8.433v-.396c0-.652.421-1.153.86-1.438A2.5 2.5 0 0 0 7 4.5c0-.932-.168-1.764-.305-2.285C6.665 2.1 6.55 2 6.385 2A.385.385 0 0 0 6 2.385zm3 .5A4.5 4.5 0 0 1 13.5 1a.5.5 0 0 1 .5.5v5.973l.019.177a261 261 0 0 1 .229 2.24c.123 1.256.252 2.664.252 3.11a2 2 0 1 1-4 0c0-.446.129-1.854.252-3.11c.063-.637.126-1.247.173-1.699l.02-.191H10a1 1 0 0 1-1-1zm2.997 2.053l-.021.202a386 386 0 0 0-.228 2.233c-.127 1.287-.248 2.63-.248 3.012a1 1 0 1 0 2 0c0-.383-.121-1.725-.248-3.012a315 315 0 0 0-.228-2.233l-.021-.201L13 7.5V2.035A3.5 3.5 0 0 0 10 5.5V7h1.5a.5.5 0 0 1 .497.553"/></svg>
                                <span>Entregado</span>
                            {% elif order.state_order == 4 %}
                                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 56 56"><path fill="#ffffff" d="M23.664 52.399c2.977 2.976 5.695 2.953 8.649 0l3.609-3.587c.375-.351.703-.492 1.195-.492h5.063c4.195 0 6.14-1.922 6.14-6.14v-5.063c0-.492.141-.82.492-1.195l3.563-3.61c3-2.953 2.976-5.671 0-8.648l-3.563-3.61c-.351-.35-.492-.702-.492-1.171v-5.086c0-4.172-1.922-6.14-6.14-6.14h-5.063c-.492 0-.82-.118-1.195-.47l-3.61-3.585c-2.953-2.977-5.671-2.953-8.648 0l-3.61 3.586c-.35.351-.702.468-1.171.468h-5.086c-4.195 0-6.14 1.922-6.14 6.14v5.087c0 .469-.118.82-.47 1.172l-3.585 3.61c-2.977 2.976-2.953 5.694 0 8.648l3.586 3.609c.351.375.468.703.468 1.195v5.063c0 4.195 1.946 6.14 6.14 6.14h5.087c.469 0 .82.141 1.172.492Zm2.625-2.626l-4.406-4.43c-.516-.538-1.055-.75-1.781-.75h-6.305c-2.086 0-2.414-.327-2.414-2.413v-6.305c0-.703-.211-1.242-.727-1.758l-4.43-4.406c-1.476-1.5-1.476-1.922 0-3.422l4.43-4.406c.516-.516.727-1.055.727-1.781v-6.305c0-2.11.305-2.414 2.414-2.414h6.305c.726 0 1.265-.188 1.78-.727l4.407-4.43c1.5-1.476 1.922-1.476 3.422 0l4.406 4.43c.516.54 1.055.727 1.758.727h6.305c2.086 0 2.414.328 2.414 2.414v6.305c0 .726.234 1.265.75 1.78l4.43 4.407c1.476 1.5 1.476 1.922 0 3.422l-4.43 4.406c-.516.516-.75 1.055-.75 1.758v6.305c0 2.086-.328 2.414-2.414 2.414h-6.305c-.703 0-1.242.21-1.758.75l-4.406 4.43c-1.5 1.476-1.922 1.476-3.422 0m-6.305-11.765c.516 0 .985-.188 1.336-.563l6.657-6.68l6.656 6.68c.351.352.82.563 1.36.563a1.886 1.886 0 0 0 1.874-1.899c0-.539-.21-.96-.562-1.336l-6.657-6.656l6.68-6.703c.375-.398.563-.797.563-1.312a1.88 1.88 0 0 0-1.875-1.875c-.492 0-.914.187-1.313.585l-6.726 6.68l-6.704-6.656a1.687 1.687 0 0 0-1.289-.563c-1.054 0-1.875.82-1.875 1.852c0 .516.188.961.563 1.313l6.656 6.68l-6.656 6.679a1.737 1.737 0 0 0-.563 1.312c0 1.055.82 1.899 1.875 1.899"/></svg>
                                <span>Concluído</span>
                            {% elif order.state_order == 5 %}
                                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 56 56"><path fill="#ffffff" d="M23.664 52.399c2.977 2.976 5.695 2.953 8.649 0l3.609-3.587c.375-.351.703-.492 1.195-.492h5.063c4.195 0 6.14-1.922 6.14-6.14v-5.063c0-.492.141-.82.492-1.195l3.563-3.61c3-2.953 2.976-5.671 0-8.648l-3.563-3.61c-.351-.35-.492-.702-.492-1.171v-5.086c0-4.172-1.922-6.14-6.14-6.14h-5.063c-.492 0-.82-.118-1.195-.47l-3.61-3.585c-2.953-2.977-5.671-2.953-8.648 0l-3.61 3.586c-.35.351-.702.468-1.171.468h-5.086c-4.195 0-6.14 1.922-6.14 6.14v5.087c0 .469-.118.82-.47 1.172l-3.585 3.61c-2.977 2.976-2.953 5.694 0 8.648l3.586 3.609c.351.375.468.703.468 1.195v5.063c0 4.195 1.946 6.14 6.14 6.14h5.087c.469 0 .82.141 1.172.492Zm2.625-2.626l-4.406-4.43c-.516-.538-1.055-.75-1.781-.75h-6.305c-2.086 0-2.414-.327-2.414-2.413v-6.305c0-.703-.211-1.242-.727-1.758l-4.43-4.406c-1.476-1.5-1.476-1.922 0-3.422l4.43-4.406c.516-.516.727-1.055.727-1.781v-6.305c0-2.11.305-2.414 2.414-2.414h6.305c.726 0 1.265-.188 1.78-.727l4.407-4.43c1.5-1.476 1.922-1.476 3.422 0l4.406 4.43c.516.54 1.055.727 1.758.727h6.305c2.086 0 2.414.328 2.414 2.414v6.305c0 .726.234 1.265.75 1.78l4.43 4.407c1.476 1.5 1.476 1.922 0 3.422l-4.43 4.406c-.516.516-.75 1.055-.75 1.758v6.305c0 2.086-.328 2.414-2.414 2.414h-6.305c-.703 0-1.242.21-1.758.75l-4.406 4.43c-1.5 1.476-1.922 1.476-3.422 0m-6.305-11.765c.516 0 .985-.188 1.336-.563l6.657-6.68l6.656 6.68c.351.352.82.563 1.36.563a1.886 1.886 0 0 0 1.874-1.899c0-.539-.21-.96-.562-1.336l-6.657-6.656l6.68-6.703c.375-.398.563-.797.563-1.312a1.88 1.88 0 0 0-1.875-1.875c-.492 0-.914.187-1.313.585l-6.726 6.68l-6.704-6.656a1.687 1.687 0 0 0-1.289-.563c-1.054 0-1.875.82-1.875 1.852c0 .516.188.961.563 1.313l6.656 6.68l-6.656 6.679a1.737 1.737 0 0 0-.563 1.312c0 1.055.82 1.899 1.875 1.899"/></svg>
                                <span>Rechazado</span>
                            {% endif %}
                        </div>
                    </div>
                    <div class="block-main-all-informations-reservations">
                        <div class="block-details-admin">
                            <div class="block-icon">
                                <img src="{{ order.company_icon }}" alt="">
                            </div>
                            <div class="block-name">
                                <a href="/userapp/home?search={{ order.company_id_secondary }}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="#8d8ddf" d="M10.59 13.41c.41.39.41 1.03 0 1.42c-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0a5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24a2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24m2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0a5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24a2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24a.973.973 0 0 1 0-1.42"/></svg>
                                    {{ order.company_name }}
                                </a>
                            </div>
                        </div>
                        <div class="block-details-date-time">
                            <div class="block-dt">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="#2991d6" d="M12 14q-.425 0-.712-.288T11 13q0-.425.288-.712T12 12q.425 0 .713.288T13 13q0 .425-.288.713T12 14m-4 0q-.425 0-.712-.288T7 13q0-.425.288-.712T8 12q.425 0 .713.288T9 13q0 .425-.288.713T8 14m8 0q-.425 0-.712-.288T15 13q0-.425.288-.712T16 12q.425 0 .713.288T17 13q0 .425-.288.713T16 14m-4 4q-.425 0-.712-.288T11 17q0-.425.288-.712T12 16q.425 0 .713.288T13 17q0 .425-.288.713T12 18m-4 0q-.425 0-.712-.288T7 17q0-.425.288-.712T8 16q.425 0 .713.288T9 17q0 .425-.288.713T8 18m8 0q-.425 0-.712-.288T15 17q0-.425.288-.712T16 16q.425 0 .713.288T17 17q0 .425-.288.713T16 18M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V2h2v2h8V2h2v2h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5z"/></svg>
                                <span>{{ order.created_at.strftime("%Y-%m-%d") }}</span>
                            </div>
                            <div class="block-dt">
                                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="15.23076923076924" viewBox="0 0 1664 1472"><path fill="#2991d6" d="M64 606L0 576V448L832 64l832 384v128l-64 30v534q0 38-26.5 57t-69.5 19t-69.5-19t-26.5-57V694L928 916v480q0 38-26.5 57t-69.5 19t-69.5-19t-26.5-57V916L256 694v446q0 38-26.5 57t-69.5 19t-69.5-19t-26.5-57zm768 226l768-352l-768-352L64 480z"/></svg>
                                <span>{{ order.number_table }}</span>
                            </div>
                            <div class="block-dt">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="#2991d6" d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0 12c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2"/></svg>
                                {% if order.data_orders[0].type_order == 1 %}
                                <span>Para mesa</span>
                                {% elif order.data_orders[0].type_order == 2 %}
                                <span>Para llevar</span>
                                {% endif %}
                            </div>
                            <div class="block-dt">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path fill="#2991d6" d="M9 3V1h6v2zm2 11h2V8h-2zm1 8q-1.85 0-3.488-.712T5.65 19.35q-1.225-1.225-1.937-2.863T3 13q0-1.85.713-3.488T5.65 6.65q1.225-1.225 2.863-1.937T12 4q1.55 0 2.975.5t2.675 1.45l1.4-1.4l1.4 1.4l-1.4 1.4Q20 8.6 20.5 10.025T21 13q0 1.85-.713 3.488T18.35 19.35q-1.225 1.225-2.863 1.938T12 22m0-2q2.9 0 4.95-2.05T19 13q0-2.9-2.05-4.95T12 6Q9.1 6 7.05 8.05T5 13q0 2.9 2.05 4.95T12 20m0-7"/></svg>
                                <span>{{ order.created_at.strftime("%I:%M %p") }}</span>
                            </div>
                        </div>
                        <div class="block-main-details">
                            <!-- Bucle -->
                            {% for food in order.data_orders %}
                            <div class="block-main-reservations-all-info-app">
                                <div class="block-1">
                                    <img src="{{ food.image_food }}" alt="">
                                </div>
                                <div class="block-2">
                                    <h3>{{ food.food_name }}</h3>
                                    <span>{{ food.category_name }}</span>
                                </div>
                                <div class="block-3">
                                    <span>{{ order.currency }} {{ food.price }}</span>
                                    <span>{{ food.quantity }}</span>
                                </div>
                            </div>
                            {% endfor %}
                            <!-- Fin bucle -->
                            <div class="block-message-reservation">
                                <span></span>
                            </div>
                            <div class="block-calc-cost-view">
                                <h3>Costo total: </h3>
                                <span>{{ order.currency }} {{ order.total_cost }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <div class="container-reservations-empty">
                    <img src="{{ url_for('static', filename='images/images_restaurant/images_all/undraw_street_food_re_uwex.svg') }}" alt="">
                    <span>Sin órdenes</span>
                </div>
                {% endif %}
            </div>
            
        </div>
{% endblock %}

{% block selected_route_4 %}
    block-nav-circle-now__select
{% endblock %}